(()=>{var e={};e.id=38,e.ids=[38],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3833:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>o});var a=s(7096),r=s(6132),l=s(7284),n=s.n(l),i=s(2564),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["events",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9933)),"/Users/yuvakiranzen/Developer/Bsm/bceoevents/app/events/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4708)),"/Users/yuvakiranzen/Developer/Bsm/bceoevents/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/yuvakiranzen/Developer/Bsm/bceoevents/app/events/page.tsx"],x="/events/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/events/page",pathname:"/events",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6576:(e,t,s)=>{Promise.resolve().then(s.bind(s,8045))},8045:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(3854),r=s(4218),l=s(5548),n=s.n(l),i=s(1956),c=s.n(i),o=s(6590);let d=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))});var x=s(6835),m=s(2432);let u=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))});var h=s(6961),g=s(7248),p=s(9618),f=s(4791),v=s(2769),j=s(8026),b=s(6048),y=s(2209),N=s(6874),w=s(9839);let D=[{name:"All",value:"",icon:null},{name:"Live",value:"published",icon:"\uD83D\uDD34"},{name:"Trending",value:"trending",icon:"\uD83D\uDD25"},{name:"Featured",value:"featured",icon:"⭐"}];function k(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[i,k]=(0,r.useState)(""),[C,E]=(0,r.useState)(!1),[P,S]=(0,r.useState)([]),[L,_]=(0,r.useState)([]),[A,T]=(0,r.useState)("featured"),[B,Z]=(0,r.useState)([]),[$,F]=(0,r.useState)(!0),[q,M]=(0,r.useState)(null),[R,z]=(0,r.useState)([]),[U,G]=(0,r.useState)(1),[I,O]=(0,r.useState)(0),[J,W]=(0,r.useState)(!0),[Q,V]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let t=async()=>{try{console.log("\uD83D\uDD04 Starting to fetch events..."),1===U?F(!0):V(!0),M(null);let t={page:U,limit:12};s&&(t.category=s),e&&(t.search=e),"featured"===i&&(t.featured=!0),i&&"featured"!==i&&(t.status=i),console.log("\uD83D\uDCCB Query params:",t);let a=await w.E.getEvents(t);if(console.log("\uD83D\uDCCA API Response:",a),a.success){let e=Array.isArray(a.data)?a.data:[];1===U?S(e):S(t=>[...t,...e]),O(a.total||e.length),W(!!a.pagination?.next);let t=e.map(e=>e.category).filter(Boolean),s=Array.from(new Set(t)),r=[{name:"All",value:"",count:a.total||e.length,color:"bg-gray-100 text-gray-700"},...s.map(t=>({name:t,value:t,count:e.filter(e=>e.category===t).length,color:X(t)}))];z(r),console.log("✅ Events loaded successfully:",e.length)}else console.error("❌ API returned error:",a.error),M(a.error||"Failed to fetch events")}catch(e){console.error("❌ Error fetching events:",e),M("Failed to load events. Please try again.")}finally{F(!1),V(!1)}};t()},[U,s,e,i]),(0,r.useEffect)(()=>{1!==U&&G(1)},[s,e,i]),(0,r.useEffect)(()=>{let t=[...P||[]];e&&(t=t.filter(t=>t.title?.toLowerCase().includes(e.toLowerCase())||t.shortDescription?.toLowerCase().includes(e.toLowerCase())||t.facilitator?.name?.toLowerCase().includes(e.toLowerCase()))),t.sort((e,t)=>{switch(A){case"featured":if(e.featured&&!t.featured)return -1;if(!e.featured&&t.featured)return 1;return new Date(e.startDate||"").getTime()-new Date(t.startDate||"").getTime();case"date":return new Date(e.startDate||"").getTime()-new Date(t.startDate||"").getTime();case"popularity":return(t.participants||0)-(e.participants||0);case"rating":return(t.rating||0)-(e.rating||0);default:return 0}}),_(t)},[P,e,A]);let X=e=>({Flagship:"bg-blue-100 text-blue-700",Youth:"bg-green-100 text-green-700",Corporate:"bg-orange-100 text-orange-700",Leadership:"bg-pink-100 text-pink-700",Retreat:"bg-purple-100 text-purple-700",Daily:"bg-yellow-100 text-yellow-700"})[e]||"bg-gray-100 text-gray-700",Y=e=>{Z(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},H=e=>{let t="badge flex items-center space-x-1 font-medium";if(e.featured)return(0,a.jsxs)("div",{className:`${t} bg-gradient-to-r from-yellow-400 to-orange-500 text-white`,children:[a.jsx(o.Z,{className:"w-3 h-3"}),a.jsx("span",{children:"Featured"})]});switch(e.status){case"published":return(0,a.jsxs)("div",{className:`${t} bg-green-100 text-green-700`,children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Live"})]});case"trending":return(0,a.jsxs)("div",{className:`${t} bg-orange-100 text-orange-700`,children:[a.jsx(d,{className:"w-3 h-3"}),a.jsx("span",{children:"Trending"})]});default:return null}},K=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"TBD",ee=()=>{t(""),l(""),k(""),G(1)};return $&&0===P.length?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/20 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):q&&0===P.length?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/20 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(x.Z,{className:"w-10 h-10 text-red-500"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Events"}),a.jsx("p",{className:"text-gray-600 mb-6",children:q}),a.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Try Again"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/20",children:[a.jsx("section",{className:"section-padding py-12",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)(y.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-4",children:"Discover Programs ✨"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Join thousands transforming their lives through mindful practices"})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-8 mb-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:I}),a.jsx("div",{className:"text-sm text-gray-500",children:"Programs"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary-600",children:[(P||[]).reduce((e,t)=>e+(t.participants||0),0),"+"]}),a.jsx("div",{className:"text-sm text-gray-500",children:"Members"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:P.length>0?((P||[]).reduce((e,t)=>e+(t.rating||0),0)/P.length).toFixed(1):"4.8"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Avg Rating"})]})]})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto section-padding pb-12",children:[(0,a.jsxs)("div",{className:"card p-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[a.jsx(m.Z,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search programs...",value:e,onChange:e=>t(e.target.value),className:"input-modern pl-10"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:A,onChange:e=>T(e.target.value),className:"input-modern min-w-[120px]",children:[a.jsx("option",{value:"featured",children:"Featured"}),a.jsx("option",{value:"date",children:"By Date"}),a.jsx("option",{value:"popularity",children:"Popular"}),a.jsx("option",{value:"rating",children:"Top Rated"})]}),(0,a.jsxs)("button",{onClick:()=>E(!C),className:`btn-ghost flex items-center ${C?"bg-primary-50 text-primary-600":""}`,children:[a.jsx(u,{className:"w-4 h-4 mr-2"}),"Filters",(s||i)&&a.jsx("span",{className:"ml-2 bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(s?1:0)+(i?1:0)})]})]})]}),a.jsx(N.M,{children:C&&(0,a.jsxs)(y.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 pt-6 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Category"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(R||[]).map(e=>(0,a.jsxs)("button",{onClick:()=>{l(e.value)},className:`px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${s===e.value?"bg-primary-600 text-white":e.color}`,children:[e.name," (",e.count,")"]},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Status"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,a.jsxs)("button",{onClick:()=>k(e.value),className:`px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200 flex items-center space-x-1 ${i===e.value?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.icon&&a.jsx("span",{children:e.icon}),a.jsx("span",{children:e.name})]},e.value))})]})]}),(s||i)&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,a.jsxs)("button",{onClick:ee,className:"text-sm text-gray-600 hover:text-primary-600 transition-colors flex items-center",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-1"}),"Clear filters"]})})]})})]}),a.jsx("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("p",{className:"text-gray-600",children:[a.jsx("span",{className:"font-semibold",children:L.length})," programs found"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(L||[]).map((e,t)=>(0,a.jsxs)(y.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"card group cursor-pointer relative overflow-hidden h-full flex flex-col",children:[a.jsx("div",{className:"absolute top-3 left-3 z-20 flex flex-col space-y-2",children:H(e)}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 z-20 flex space-x-2",children:[a.jsx("button",{onClick:t=>{t.preventDefault(),Y(e._id)},className:"p-2 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white transition-all duration-200 shadow-sm",children:B.includes(e._id)?a.jsx(j.Z,{className:"w-4 h-4 text-red-500"}):a.jsx(h.Z,{className:"w-4 h-4 text-gray-600"})}),a.jsx("button",{className:"p-2 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white transition-all duration-200 shadow-sm",children:a.jsx(g.Z,{className:"w-4 h-4 text-gray-600"})})]}),(0,a.jsxs)(n(),{href:`/events/${e.slug}`,className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[a.jsx(c(),{src:e.heroImage||"/placeholder-image.jpg",alt:e.title||"Event",fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-500"}),a.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${e.categoryColor||"from-blue-500 to-purple-600"} opacity-20`}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/50 to-transparent h-20"}),(0,a.jsxs)("div",{className:"absolute bottom-3 left-3 right-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-white/90 mb-1",children:[(0,a.jsxs)("span",{children:[e.participants||0," joined"]}),(0,a.jsxs)("span",{children:[e.progress||0,"% full"]})]}),a.jsx("div",{className:"w-full bg-white/20 rounded-full h-1.5",children:a.jsx("div",{className:"bg-white rounded-full h-1.5 transition-all duration-300",style:{width:`${e.progress||0}%`}})})]})]}),(0,a.jsxs)("div",{className:"p-5 flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:`badge ${e.categoryBg||"bg-blue-50"} ${e.categoryText||"text-blue-700"}`,children:e.category||"General"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[a.jsx(b.Z,{className:"w-4 h-4 text-yellow-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.rating||0}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.reviews||0,")"]})]})]}),(0,a.jsxs)("div",{className:"mb-4 flex-1",children:[a.jsx("h3",{className:"text-lg font-heading font-bold text-gray-900 mb-1 group-hover:text-primary-600 transition-colors",children:e.title||"Untitled Event"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.subtitle||""}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.shortDescription||""})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:(e.tags||[]).slice(0,2).map((e,t)=>a.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-lg text-xs",children:e},t))}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(p.Z,{className:"w-3 h-3 mr-1"}),K(e.startDate)]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(f.Z,{className:"w-3 h-3 mr-1"}),e.duration||"TBD"]})]}),a.jsx("div",{className:"font-medium text-primary-600",children:e.price||"Free"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["by ",a.jsx("span",{className:"font-medium",children:e.facilitator?.name||"TBD"})]}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[a.jsx(v.Z,{className:"w-3 h-3 mr-1"}),e.participants||0,"+"]})]}),a.jsx("button",{className:"btn-primary w-full mt-auto",children:"Free"===e.price?"Join Free":"Learn More"})]})]})]},e._id))}),J&&L.length>0&&a.jsx("div",{className:"text-center mt-8",children:a.jsx("button",{onClick:()=>{J&&!Q&&G(e=>e+1)},disabled:Q,className:"btn-primary px-8",children:Q?(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading..."]}):"Load More Programs"})}),0===L.length&&!$&&(0,a.jsxs)("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(m.Z,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No programs found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Try different search terms or filters"}),a.jsx("button",{onClick:ee,className:"btn-primary",children:"Reset Filters"})]})]})]})}},9933:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>c});var a=s(5153);let r=(0,a.createProxy)(String.raw`/Users/yuvakiranzen/Developer/Bsm/bceoevents/app/events/page.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,c=i}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[271,647,956,880],()=>s(3833));module.exports=a})();